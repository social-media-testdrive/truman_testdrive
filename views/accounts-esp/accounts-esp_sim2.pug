extends ../ui_layout-esp

block content

  -var cdn = "https://dhpd030vnpk29.cloudfront.net";

  .computer.only.tablet.only.four.wide.column

  .eight.wide.computer.ten.wide.tablet.sixteen.wide.mobile.column
    .ui.one.column.centered.grid.feedbackMessagesGrid
      .ui.fixed.bottom.sticky
        .ui.icon.compact.message.warning.hidden#removeHidden
          i.close.icon
          i.question.icon.float
          .content
            .ui.header ¿Necesitas ayuda?
            p ¡Asegúrate de que estás haciendo clic en "Entendido" en los puntos azules!

        .ui.icon.message.warning.hidden#clickAllDotsWarning
          i.close.icon
          i.hand.pointer.icon.float
          .content
            .ui.header ¡Todavía quedan puntas azules por encontrar!
            p Haz clic en todos los puntos azules para seguir.
    .ui.raised.segment
      h2.ui.header#generalStep Crea Tu Perfil
      .ui.form
        .field
          label Nombre
          input(type="text" autocomplete='off' name='name' value ='')
        .field
          label Bio
          textarea(type="text" rows="3" autocomplete='off' name='bio' value ='')
        .field
          label Cumpleaños
          input(type="text" autocomplete='off' name='birthday' value ='')
        div#locationStep
          .field
            label Ciudad
            input(type="text" autocomplete='off' name='city' value ='')
          .field
            label País
            input(type="text" autocomplete='off' name='hometown' value ='')
          .field
            label Escuela
            input(type="text" autocomplete='off' name='school' value ='')
        br
        .field
          label Sube una foto de perfil...
          .ui.basic.segment(style="padding:10px 0;")
            input(type='hidden', name='profilePhoto', value='avatar-icon.svg')
            img.ui.small.image.profileImage(src=cdn+"/profile_pictures/"+"avatar-icon.svg")
            button.ui.icon.button.editProfilePictureButton(style="margin: 1em 0;")
              i.plus.icon
      .ui.message.warning.hidden#confirmContinueCheck
        .ui.header
          | Parece que no completó ninguna información de perfil. ¿Está seguro de que te gustaría continuar?

    button.ui.big.labeled.icon.button.cybertrans#cyberTransButton
        i.rocket.icon
        |   Continuar!

  //- Profile Picture Selection Modal
  .ui.small.long.post.modal.profilePictureModal
    i.close.icon
    .header Elige una foto de perfil
    .content
      form.ui.profilePicForm.form
        .ui.segment
            .three.fields
              .field
                .ui.radio.checkbox
                  input.hidden(type='radio' name='profilepicinput' value="bballprofpic.png")
                  label
                      img.lazy(src='/images/picture.svg' data-src=cdn+"/profile_pictures/bballprofpic.png")
              .field
                .ui.radio.checkbox
                  input.hidden(type='radio' name='profilepicinput' value="boatprofpic.png")
                  label
                      img.lazy(src='/images/picture.svg' data-src=cdn+"/profile_pictures/boatprofpic.png")
              .field
                .ui.radio.checkbox
                  input.hidden(type='radio' name='profilepicinput' value="cakeprofpic.png")
                  label
                      img.lazy(src='/images/picture.svg' data-src=cdn+"/profile_pictures/cakeprofpic.png")
            .three.fields
              .field
                .ui.radio.checkbox
                  input.hidden(type='radio' name='profilepicinput' value="carprofpic.png")
                  label
                      img.lazy(src='/images/picture.svg' data-src=cdn+"/profile_pictures/carprofpic.png")
              .field
                .ui.radio.checkbox
                  input.hidden(type='radio' name='profilepicinput' value="catprofpic.png")
                  label
                      img.lazy(src='/images/picture.svg' data-src=cdn+"/profile_pictures/catprofpic.png")
              .field
                .ui.radio.checkbox
                  input.hidden(type='radio' name='profilepicinput' value="flowerprofpic.png")
                  label
                      img.lazy(src='/images/picture.svg' data-src=cdn+"/profile_pictures/flowerprofpic.png")
            .three.fields
              .field
                .ui.radio.checkbox
                  input.hidden(type='radio' name='profilepicinput' value="pencilprofpic.png")
                  label
                      img.lazy(src='/images/picture.svg' data-src=cdn+"/profile_pictures/pencilprofpic.png")
              .field
                .ui.radio.checkbox
                  input.hidden(type='radio' name='profilepicinput' value="sparkprofpic.png")
                  label
                      img.lazy(src='/images/picture.svg' data-src=cdn+"/profile_pictures/sparkprofpic.png")
              .field
                .ui.radio.checkbox
                  input.hidden(type='radio' name='profilepicinput' value="wolfprofpic.png")
                  label
                      img.lazy(src='/images/picture.svg' data-src=cdn+"/profile_pictures/wolfprofpic.png")

        .ui.error.message#noPhotoError
          | Por favor, seleccione una foto
    .actions
      .ui.green.approve.button.labeled.icon
        i.check.icon
        |  Subir
      .ui.red.deny.button.labeled.icon
        i.close.icon
        |  Cancelar

block scripts
  script(src="/module_js/accounts-esp/accounts-esp_sim2.js")
  script(src="/module_js/base_sim.js")
  script(src="/module_js/voiceover.js")
  script.
    const cdn = "https://dhpd030vnpk29.cloudfront.net"
    $('.editProfilePictureButton').on('click', function(){
      $('.profilePictureModal').modal({
        onApprove: function() {
          let imageName = $('input[name="profilepicinput"]:checked').val();
          if(imageName !== undefined){
            $('#noPhotoError').hide();
            let srcString = cdn + '/profile_pictures/' + imageName;
            $('.profileImage').attr('src', srcString);
            $('input[name="profilePhoto"]').val(imageName).trigger('input');
            return true;
          } else {
            $('#noPhotoError').show();
            return false;
          }
        },
        onDeny: function(){
          return true;
        }
      }).modal('show');
    });

    $('input:radio[name="profilepicinput"]').change(function(){
      $('#noPhotoError').hide();
    });

block styles
  link(rel='stylesheet', href='/css/modules/accounts.css')
